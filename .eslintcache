[{"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\index.js":"1","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\App.jsx":"2","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\SideMenu.jsx":"3","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\index.jsx":"4","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\routers\\menus.js":"5","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\Home\\Index.jsx":"6","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\navigator\\List.jsx":"7","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\banner\\Index.jsx":"8","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\navigator\\HomeList.jsx":"9","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\navigator\\Category.jsx":"10","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\seckill\\List.jsx":"11","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\routers\\layoutComRoute.jsx":"12","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\userManager\\List.jsx":"13","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\userManager\\Add.jsx":"14","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\userManager\\Setting.jsx":"15","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\HeaderNav.jsx":"16","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\MainHeader.jsx":"17","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\store\\Index.js":"18","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\store\\modules\\common.js":"19","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\store\\actionType.js":"20","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\Breadcrumb.jsx":"21","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\routers\\RedirectRouter.jsx":"22","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\banner\\AddBanner.jsx":"23","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\api\\Banner.js":"24","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\utils\\request.js":"25"},{"size":309,"mtime":1611816702727,"results":"26","hashOfConfig":"27"},{"size":292,"mtime":1611816246063,"results":"28","hashOfConfig":"27"},{"size":4848,"mtime":1611913833327,"results":"29","hashOfConfig":"27"},{"size":2374,"mtime":1611890410936,"results":"30","hashOfConfig":"27"},{"size":3355,"mtime":1612003168090,"results":"31","hashOfConfig":"27"},{"size":137,"mtime":1611719178624,"results":"32","hashOfConfig":"27"},{"size":144,"mtime":1611719320053,"results":"33","hashOfConfig":"27"},{"size":1803,"mtime":1612003733354,"results":"34","hashOfConfig":"27"},{"size":148,"mtime":1611719442767,"results":"35","hashOfConfig":"27"},{"size":148,"mtime":1611719442875,"results":"36","hashOfConfig":"27"},{"size":150,"mtime":1611719436940,"results":"37","hashOfConfig":"27"},{"size":911,"mtime":1611844439939,"results":"38","hashOfConfig":"27"},{"size":144,"mtime":1611735176570,"results":"39","hashOfConfig":"27"},{"size":149,"mtime":1611735468506,"results":"40","hashOfConfig":"27"},{"size":147,"mtime":1611735234554,"results":"41","hashOfConfig":"27"},{"size":1241,"mtime":1611756823298,"results":"42","hashOfConfig":"27"},{"size":2135,"mtime":1611913573410,"results":"43","hashOfConfig":"27"},{"size":724,"mtime":1611816118451,"results":"44","hashOfConfig":"27"},{"size":564,"mtime":1611911170110,"results":"45","hashOfConfig":"27"},{"size":190,"mtime":1611912874712,"results":"46","hashOfConfig":"27"},{"size":1812,"mtime":1611889355269,"results":"47","hashOfConfig":"27"},{"size":494,"mtime":1611844350369,"results":"48","hashOfConfig":"27"},{"size":3093,"mtime":1612019986386,"results":"49","hashOfConfig":"27"},{"size":155,"mtime":1612019768380,"results":"50","hashOfConfig":"27"},{"size":308,"mtime":1612070985896,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"1w8t5q2",{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"54"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\index.js",[],["104","105"],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\App.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\SideMenu.jsx",["106"],"import React, { useState, useEffect } from 'react'\r\nimport { Menu } from 'antd';\r\nimport menus from '../../routers/menus'\r\nimport { withRouter, useLocation, useHistory } from 'react-router-dom';\r\nconst { SubMenu } = Menu;//二级菜单标识\r\n\r\n\r\n// 放在组件外，先得到 哪些有二级菜单\r\nconst rootSubmenuKeys = [];//这个数组里面放的是需要只显示一个菜单功能的一级菜单的key值\r\nmenus.forEach(item => {//循环路由含有子导航的项并push进去\r\n   item.children&&rootSubmenuKeys.push(item.path)\r\n})\r\nconsole.log(rootSubmenuKeys);\r\n\r\nconst SideMenu = withRouter((props) => {//withRouter 包裹是为了获取编程式导航的对象\r\n    //     withRouter的作用和一个简单应用\r\n    // 作用：把不是通过路由切换过来的组件中，将react-router 的 history、location、match 三个对象传入props对象上\r\n\r\n    // 默认情况下必须是经过路由匹配渲染的组件才存在this.props，才拥有路由参数，才能使用编程式导航的写法，执行this.props.history.push('/detail')跳转到对应路由的页面\r\n    // 然而不是所有组件都直接与路由相连（通过路由跳转到此组件）的，当这些组件需要路由参数时，使用withRouter就可以给此组件传入路由参数，此时就可以使用this.props\r\n\r\n\r\n    const { pathname } = useLocation();\r\n    console.log(pathname);\r\n    const openpath = \"/\" + pathname.split(\"/\")[1]\r\n    // 记录展开的菜单项\r\n\r\n    // 用useState来记录数据，set函数来改变数据参数是改变的值，这里面的括号里面是设置初始值,有了这个初始值就是可以将左边菜单高亮刷新有效\r\n    const [openKeys, setOpenKeys] = useState([openpath])\r\n    const [selectedKeys, setSelectedKeys] = useState()\r\n\r\n    const onOpenChange = keys => {//keys[] 包含点击后与点击前的导航地址\r\n        console.log(keys);//[\"/bannermannage\", \"/navmannage\"]\r\n        const latestOpenKey = keys.find(key => openKeys.indexOf(key) === -1);\r\n        console.log(latestOpenKey);//后一个一级导航菜单地址即当前一级菜单地址 \"/navmannage\"\r\n        if (rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n            setOpenKeys(keys);\r\n        } else {\r\n            setOpenKeys(latestOpenKey ? [latestOpenKey] : []);\r\n        }\r\n      \r\n    };\r\n\r\n    const history=useHistory()\r\n\r\n    const renderMenu = (menus) => {\r\n        return (\r\n            <>\r\n                {\r\n                    menus.map(item => {\r\n                        if (item.children) {//有多级菜单\r\n                            return (\r\n                                <SubMenu key={item.path} icon={item.icon} title={item.title}>\r\n                                    {renderMenu(item.children)}\r\n                                </SubMenu>\r\n                            )\r\n\r\n                        }\r\n                        else {//只有一级菜单\r\n                            return (\r\n                                //通过下面的三目运算，选择有些子路由不需要在左边菜单栏显示可以通过地址显示\r\n                                item.meta && item.meta.hidden ? null : <Menu.Item key={item.path} icon={item.icon}>{item.title}</Menu.Item>\r\n                            )\r\n                        }\r\n                    })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    const changePages = ({ key }) => {\r\n        // console.log(props);\r\n        // console.log(props.history);//想要history有值就需要给App里面的渲染组件外套一个路由<Router>，但是Router包裹在了app上就不要再在内容耶路由上包裹了，会造成内容页路由没反应\r\n        // props.history.push(key)\r\n        history.push(key)\r\n\r\n    }\r\n\r\n\r\n\r\n    // 通过hook里面的userLocation获取到pathname，获得左边菜单栏的状态\r\n    // defaultSelectedKeys：控制具体高亮的导航\r\n    // defaultOpenKeys：控制打开的导航项\r\n\r\n\r\n\r\n    // 还有另外一个情况，就是不传递第二个参数，也就是useEffect只接收了第一个函数参数，代表不监听任何参数变化。每次渲染DOM之后，都会执行useEffect中的函数。\r\n    // 就达到了重新渲染的效果\r\n    useEffect(() => {\r\n        setSelectedKeys(pathname)\r\n    })\r\n    return (\r\n        <Menu\r\n            defaultSelectedKeys={[pathname]}//{[\"usermanager/list\"]}\r\n            defaultOpenKeys={[openpath]}//{[\"usermanager\"]}：里面接数组\r\n            mode=\"inline\"\r\n            theme=\"dark\"\r\n            openKeys={openKeys}\r\n            selectedKeys={selectedKeys}\r\n            onOpenChange={onOpenChange}\r\n            onClick={changePages}\r\n        >\r\n            {/* 方便做多级菜单，递归的思想 */}\r\n            {renderMenu(menus)}\r\n        </Menu>\r\n    )\r\n\r\n})\r\n\r\nexport default SideMenu\r\n\r\n\r\n","D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\index.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\routers\\menus.js",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\Home\\Index.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\navigator\\List.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\banner\\Index.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\navigator\\HomeList.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\navigator\\Category.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\seckill\\List.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\routers\\layoutComRoute.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\userManager\\List.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\userManager\\Add.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\userManager\\Setting.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\HeaderNav.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\MainHeader.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\store\\Index.js",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\store\\modules\\common.js",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\store\\actionType.js",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\layout\\main\\Breadcrumb.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\routers\\RedirectRouter.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\views\\banner\\AddBanner.jsx",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\api\\Banner.js",[],"D:\\htmal\\java千锋\\SZ-2010\\第三阶段\\React\\jd-admin\\src\\utils\\request.js",[],{"ruleId":"107","replacedBy":"108"},{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","severity":1,"message":"112","line":89,"column":5,"nodeType":"113","endLine":89,"endColumn":14,"suggestions":"114"},"no-native-reassign",["115"],"no-negated-in-lhs",["116"],"react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setSelectedKeys'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [pathname] as a second argument to the useEffect Hook.","Identifier",["117"],"no-global-assign","no-unsafe-negation",{"desc":"118","fix":"119"},"Add dependencies array: [pathname]",{"range":"120","text":"121"},[3186,3186],", [pathname]"]